// StoreMapContract  相关

var POSITION = (MAP_NAME + "11111111111111").slice(0, 14);

abi = JSON.parse("[{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"gid\",\"type\":\"uint256\"}],\"name\":\"add_area_line\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"gid\",\"type\":\"uint256\"},{\"internalType\":\"int32\",\"name\":\"minzoom\",\"type\":\"int32\"},{\"internalType\":\"int32\",\"name\":\"cost\",\"type\":\"int32\"},{\"internalType\":\"int32\",\"name\":\"source\",\"type\":\"int32\"},{\"internalType\":\"int32\",\"name\":\"target\",\"type\":\"int32\"},{\"internalType\":\"bool\",\"name\":\"oneway\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"building\",\"type\":\"bool\"},{\"internalType\":\"bytes32\",\"name\":\"highway\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"name\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"gtype\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32[]\",\"name\":\"path\",\"type\":\"bytes32[]\"}],\"name\":\"add_onetype\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"adjacencyList\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"adjnum\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"startGeohash\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"endGeohash\",\"type\":\"bytes32\"}],\"name\":\"astar\",\"outputs\":[{\"internalType\":\"bytes32[]\",\"name\":\"backwards\",\"type\":\"bytes32[]\"},{\"internalType\":\"uint256\",\"name\":\"costAll\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"newP\",\"type\":\"uint256\"}],\"name\":\"changeP\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"newPrecision\",\"type\":\"uint256\"}],\"name\":\"changePrecision\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"dequeue\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"geohash\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"cost\",\"type\":\"uint256\"}],\"name\":\"enqueue\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"geo_maps\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"num\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"string\",\"name\":\"geohash\",\"type\":\"string\"}],\"name\":\"getLatBlock\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"string\",\"name\":\"geohash\",\"type\":\"string\"}],\"name\":\"getLonBlock\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"name\":\"get_types\",\"outputs\":[{\"internalType\":\"int32[]\",\"name\":\"feature\",\"type\":\"int32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"names\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"highways\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"gtypes\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"path\",\"type\":\"bytes32[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"nextGeohash\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"endGeohash\",\"type\":\"bytes32\"}],\"name\":\"manhattan\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"geohash1\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"geohash2\",\"type\":\"bytes32\"}],\"name\":\"sliceGeoHash\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"top\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}]")
bytecode = "0x608060405260016003556008600a556040518060a00160405280601060ff168152602001600860ff168152602001600460ff168152602001600260ff168152602001600160ff16815250600b9060056200005b929190620000be565b506040518060400160405280602081526020017f30313233343536373839626364656667686a6b6d6e707172737475767778797a815250600c9080519060200190620000a992919062000115565b50348015620000b757600080fd5b50620001c4565b82805482825590600052602060002090810192821562000102579160200282015b8281111562000101578251829060ff16905591602001919060010190620000df565b5b5090506200011191906200019c565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200015857805160ff191683800117855562000189565b8280016001018555821562000189579182015b82811115620001885782518255916020019190600101906200016b565b5b5090506200019891906200019c565b5090565b620001c191905b80821115620001bd576000816000905550600101620001a3565b5090565b90565b61229280620001d46000396000f3fe608060405234801561001057600080fd5b50600436106100f55760003560e01c8063bc6331da11610097578063d35a1d0d11610066578063d35a1d0d14610750578063f90e5ca914610792578063fdcd80aa146107ca578063fe6dcdba146108e7576100f5565b8063bc6331da146105f6578063cbf3b01e14610638578063cd3d71961461067a578063d1cf2408146106bc576100f5565b806353f065fd116100d357806353f065fd146103a457806368ba6df9146103f05780637f6d50c9146104bf578063957908d1146105ec576100f5565b806313372041146100fa5780633fb805821461013257806344cf2cd7146102d5575b600080fd5b6101306004803603604081101561011057600080fd5b810190808035906020019092919080359060200190929190505050610905565b005b61015e6004803603602081101561014857600080fd5b8101908080359060200190929190505050610aae565b60405180806020018060200180602001806020018060200186810386528b818151815260200191508051906020019060200280838360005b838110156101b1578082015181840152602081019050610196565b5050505090500186810385528a818151815260200191508051906020019060200280838360005b838110156101f35780820151818401526020810190506101d8565b50505050905001868103845289818151815260200191508051906020019060200280838360005b8381101561023557808201518184015260208101905061021a565b50505050905001868103835288818151815260200191508051906020019060200280838360005b8381101561027757808201518184015260208101905061025c565b50505050905001868103825287818151815260200191508051906020019060200280838360005b838110156102b957808201518184015260208101905061029e565b505050509050019a505050505050505050505060405180910390f35b61038e600480360360208110156102eb57600080fd5b810190808035906020019064010000000081111561030857600080fd5b82018360208201111561031a57600080fd5b8035906020019184600183028401116401000000008311171561033c57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610f51565b6040518082815260200191505060405180910390f35b6103da600480360360408110156103ba57600080fd5b8101908080359060200190929190803590602001909291905050506110e6565b6040518082815260200191505060405180910390f35b6104a96004803603602081101561040657600080fd5b810190808035906020019064010000000081111561042357600080fd5b82018360208201111561043557600080fd5b8035906020019184600183028401116401000000008311171561045757600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050611189565b6040518082815260200191505060405180910390f35b6105ea60048036036101608110156104d657600080fd5b8101908080359060200190929190803560030b9060200190929190803560030b9060200190929190803560030b9060200190929190803560030b90602001909291908035151590602001909291908035151590602001909291908035906020019092919080359060200190929190803590602001909291908035906020019064010000000081111561056757600080fd5b82018360208201111561057957600080fd5b8035906020019184602083028401116401000000008311171561059b57600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f82011690508083019250505050505050919291929050505061131f565b005b6105f46117f7565b005b6106226004803603602081101561060c57600080fd5b8101908080359060200190929190505050611a4f565b6040518082815260200191505060405180910390f35b6106646004803603602081101561064e57600080fd5b8101908080359060200190929190505050611a6d565b6040518082815260200191505060405180910390f35b6106a66004803603602081101561069057600080fd5b8101908080359060200190929190505050611a8b565b6040518082815260200191505060405180910390f35b6106f2600480360360408110156106d257600080fd5b810190808035906020019092919080359060200190929190505050611a9e565b6040518080602001838152602001828103825284818151815260200191508051906020019060200280838360005b8381101561073b578082015181840152602081019050610720565b50505050905001935050505060405180910390f35b61077c6004803603602081101561076657600080fd5b8101908080359060200190929190505050611fc6565b6040518082815260200191505060405180910390f35b6107c8600480360360408110156107a857600080fd5b810190808035906020019092919080359060200190929190505050611fd9565b005b610800600480360360408110156107e057600080fd5b810190808035906020019092919080359060200190929190505050612033565b604051808060200180602001838103835285818151815260200191508051906020019080838360005b83811015610844578082015181840152602081019050610829565b50505050905090810190601f1680156108715780820380516001836020036101000a031916815260200191505b50838103825284818151815260200191508051906020019080838360005b838110156108aa57808201518184015260208101905061088f565b50505050905090810190601f1680156108d75780820380516001836020036101000a031916815260200191505b5094505050505060405180910390f35b6108ef612225565b6040518082815260200191505060405180910390f35b6000600d60000180549050141561094a57600d60000160009080600181540180825580915050906001820390600052602060002001600090919260001b909190915055505b600d60000182908060018154018082558091505090600182039060005260206000200160009091929091909150555080600d60010160008481526020019081526020016000208190555060006001600d600001805490500390505b600181118015610a1e5750600d6001016000600d60000183815481106109c757fe5b9060005260206000200154815260200190815260200160002054600d6001016000600d600001600285816109f757fe5b0481548110610a0257fe5b9060005260206000200154815260200190815260200160002054115b15610aa95782600d60000160028381610a3357fe5b0481548110610a3e57fe5b9060005260206000200154600d60000160028481610a5857fe5b0481548110610a6357fe5b906000526020600020016000600d6000018581548110610a7f57fe5b90600052602060002001600084919050558391905055505060028181610aa157fe5b0490506109a5565b505050565b60608060608060606000600160008881526020019081526020016000206000015490506000809050600080831115610f455782600702604051908082528060200260200182016040528015610b125781602001602082028038833980820191505090505b50975082604051908082528060200260200182016040528015610b445781602001602082028038833980820191505090505b50965082604051908082528060200260200182016040528015610b765781602001602082028038833980820191505090505b50955082604051908082528060200260200182016040528015610ba85781602001602082028038833980820191505090505b50945060008091505b83821015610e3657600160008b81526020019081526020016000206001016000838152602001908152602001600020549050600080600083815260200190815260200160002090506000600784029050828b8281518110610c0e57fe5b602002602001019060030b908160030b815250508160000160009054906101000a900460030b8b6001830181518110610c4357fe5b602002602001019060030b908160030b815250508160000160049054906101000a900460030b8b6002830181518110610c7857fe5b602002602001019060030b908160030b815250508160030160009054906101000a900460030b8b6003830181518110610cad57fe5b602002602001019060030b908160030b815250508160030160049054906101000a900460030b8b6004830181518110610ce257fe5b602002602001019060030b908160030b815250508160000160089054906101000a900460ff1615610d375760018b6005830181518110610d1e57fe5b602002602001019060030b908160030b81525050610d5d565b60008b6005830181518110610d4857fe5b602002602001019060030b908160030b815250505b8160000160099054906101000a900460ff1615610d9e5760018b6006830181518110610d8557fe5b602002602001019060030b908160030b81525050610dc4565b60008b6006830181518110610daf57fe5b602002602001019060030b908160030b815250505b81600501546001860101945081600201548a8581518110610de157fe5b6020026020010181815250508160010154898581518110610dfe57fe5b6020026020010181815250508160040154888581518110610e1b57fe5b60200260200101818152505050508180600101925050610bb1565b82604051908082528060200260200182016040528015610e655781602001602082028038833980820191505090505b5094506000809050600092505b84831015610f4257600160008c8152602001908152602001600020600101600084815260200190815260200160002054915060008060008481526020019081526020016000209050806005015460001b878380600101945081518110610ed457fe5b60200260200101818152505060008090505b8160050154811015610f335781600601600082815260200190815260200160002054888480600101955081518110610f1a57fe5b6020026020010181815250508080600101915050610ee6565b50508280600101935050610e72565b50505b50505091939590929450565b60008060019050600080905060008090505b84518110156110db576000858281518110610f7a57fe5b602001015160f81c60f81b9050600080600090505b600c80546001816001161561010002031660029004905081101561107057827effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916600c82815460018160011615610100020316600290048110610fee57fe5b81546001161561100d5790600052602060002090602091828204019190065b9054901a7f0100000000000000000000000000000000000000000000000000000000000000027effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916141561106357809150611070565b8080600101915050610f8f565b5060008090505b60058110156110cb576000600b828154811061108f57fe5b90600052602060002001549050866110b9576002860295506000818416146110b8576001860195505b5b86159650508080600101915050611077565b5050508080600101915050610f63565b508092505050919050565b6000818314156110f95760009050611183565b6060806111068585612033565b8092508193505050600061111983611189565b9050600061112683611189565b9050600061113385610f51565b9050600061114085610f51565b90506000808585111561115757858503915061115d565b84860391505b8383111561116f578383039050611175565b82840390505b808201985050505050505050505b92915050565b60008060019050600080905060008090505b84518110156113145760008582815181106111b257fe5b602001015160f81c60f81b9050600080600090505b600c8054600181600116156101000203166002900490508110156112a857827effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916600c8281546001816001161561010002031660029004811061122657fe5b8154600116156112455790600052602060002090602091828204019190065b9054901a7f0100000000000000000000000000000000000000000000000000000000000000027effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916141561129b578091506112a8565b80806001019150506111c7565b5060008090505b6005811015611304576000600b82815481106112c757fe5b9060005260206000200154905086156112f2576002860295506000818416146112f1576001860195505b5b861596505080806001019150506112af565b505050808060010191505061119b565b508092505050919050565b896000808d815260200190815260200160002060000160006101000a81548163ffffffff021916908360030b63ffffffff160217905550886000808d815260200190815260200160002060000160046101000a81548163ffffffff021916908360030b63ffffffff160217905550876000808d815260200190815260200160002060030160006101000a81548163ffffffff021916908360030b63ffffffff160217905550866000808d815260200190815260200160002060030160046101000a81548163ffffffff021916908360030b63ffffffff160217905550856000808d815260200190815260200160002060000160086101000a81548160ff021916908315150217905550846000808d815260200190815260200160002060000160096101000a81548160ff021916908315150217905550836000808d815260200190815260200160002060010181905550826000808d815260200190815260200160002060020181905550816000808d815260200190815260200160002060040181905550806000815181106114b057fe5b602002602001015160026000836000815181106114c957fe5b60200260200101518152602001908152602001600020600101600060026000856000815181106114f557fe5b60200260200101518152602001908152602001600020600001548152602001908152602001600020600001819055508060018251038151811061153457fe5b6020026020010151600260008360008151811061154d57fe5b602002602001015181526020019081526020016000206001016000600260008560008151811061157957fe5b60200260200101518152602001908152602001600020600001548152602001908152602001600020600101819055508660026000836000815181106115ba57fe5b60200260200101518152602001908152602001600020600101600060026000856000815181106115e657fe5b6020026020010151815260200190815260200160002060000154815260200190815260200160002060020160006101000a81548163ffffffff021916908360030b63ffffffff16021790555088600260008360008151811061164457fe5b602002602001015181526020019081526020016000206001016000600260008560008151811061167057fe5b6020026020010151815260200190815260200160002060000154815260200190815260200160002060020160046101000a81548163ffffffff021916908360030b63ffffffff1602179055508a60026000836000815181106116ce57fe5b60200260200101518152602001908152602001600020600101600060026000856000815181106116fa57fe5b60200260200101518152602001908152602001600020600001600081548092919060010191905055815260200190815260200160002060020160086101000a81548163ffffffff021916908360030b63ffffffff16021790555060008060008d815260200190815260200160002060050154905060008090505b82518110156117ce5782818151811061178957fe5b60200260200101516000808f81526020019081526020016000206006016000848060010195508152602001908152602001600020819055508080600101915050611774565b50806000808e815260200190815260200160002060050181905550505050505050505050505050565b6001600d600001805490501161180c57600080fd5b6001600d600001805490501161182157600080fd5b600061182b612225565b9050600d6000016001600d60000180549050038154811061184857fe5b9060005260206000200154600d60000160018154811061186457fe5b9060005260206000200181905550600d60000180548061188057fe5b600190038181906000526020600020016000905590556000600190505b600d60000180549050600282021015611a31576000600282029050600d6000018054905060018201101561194057600d6001016000600d60000160018401815481106118e557fe5b9060005260206000200154815260200190815260200160002054600d6001016000600d600001848154811061191657fe5b9060005260206000200154815260200190815260200160002054111561193f5780806001019150505b5b600d6001016000600d600001838154811061195757fe5b9060005260206000200154815260200190815260200160002054600d6001016000600d600001858154811061198857fe5b906000526020600020015481526020019081526020016000205410156119ae5750611a31565b600d60000181815481106119be57fe5b9060005260206000200154600d60000183815481106119d957fe5b9060005260206000200154600d60000184815481106119f457fe5b906000526020600020016000600d6000018581548110611a1057fe5b9060005260206000200160008491905055839190505550508091505061189d565b600d6001016000838152602001908152602001600020600090555050565b60026020528060005260406000206000915090508060000154905081565b60016020528060005260406000206000915090508060000154905081565b6000816003819055506003549050919050565b60606000611aad846000610905565b6000600760020160008681526020019081526020016000208190555083600760010160006007600001548152602001908152602001600020819055506007600001600081548092919060010191905055506000805b6001600d600001805490501115611fbd57611b1b612225565b9150611b256117f7565b600060026000848152602001908152602001600020905085831415611d1157600760020160008481526020019081526020016000205493506000869050600460000154604051908082528060200260200182016040528015611b965781602001602082028038833980820191505090505b50955060008090505b888214611be55781878281518110611bb357fe5b602002602001018181525050600460020160008381526020019081526020016000205491508080600101915050611b9f565b88878281518110611bf257fe5b60200260200101818152505060008090505b600460000154811015611c685760046002016000600460010160008481526020019081526020016000205481526020019081526020016000206000905560046001016000828152602001908152602001600020600090558080600101915050611c04565b50600060046000018190555060008090505b600760000154811015611cde5760076002016000600760010160008481526020019081526020016000205481526020019081526020016000206000905560076001016000828152602001908152602001600020600090558080600101915050611c7a565b5060006007600001819055505b6001600d600001805490501115611d0957611d046117f7565b611ceb565b505050611fbd565b60008090505b8160000154811015611fb657600060026000868152602001908152602001600020600101600083815260200190815260200160002060020160049054906101000a900460030b60030b6007600201600087815260200190815260200160002054019050600060076002016000856001016000868152602001908152602001600020600101548152602001908152602001600020541480611de45750600760020160008460010160008581526020019081526020016000206001015481526020019081526020016000205481105b15611fa857600060076002016000856001016000868152602001908152602001600020600101548152602001908152602001600020541415611e6e5782600101600083815260200190815260200160002060010154600760010160006007600001548152602001908152602001600020819055506007600001600081548092919060010191905055505b806007600201600085600101600086815260200190815260200160002060010154815260200190815260200160002081905550611ec383600101600084815260200190815260200160002060010154896110e6565b6003548202019350611eed8360010160008481526020019081526020016000206001015485610905565b6000801b60046002016000856001016000868152602001908152602001600020600101548152602001908152602001600020541415611f745782600101600083815260200190815260200160002060010154600460010160006004600001548152602001908152602001600020819055506004600001600081548092919060010191905055505b8460046002016000856001016000868152602001908152602001600020600101548152602001908152602001600020819055505b508080600101915050611d17565b5050611b02565b50509250929050565b600081600a81905550600a549050919050565b60006001600084815260200190815260200160002060000160008154809291906001019190505590508160016000858152602001908152602001600020600101600083815260200190815260200160002081905550505050565b606080600084905060008490506000602060ff16905060008060009050600091505b828210156120d85783826020811061206957fe5b1a60f81b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191685836020811061209b57fe5b1a60f81b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916146120cb576120d8565b8180600101925050612055565b81600a5403905060008090506060826040519080825280601f01601f1916602001820160405280156121195781602001600182028038833980820191505090505b5090506060836040519080825280601f01601f1916602001820160405280156121515781602001600182028038833980820191505090505b50905060008590505b600a5481101561220f5788816020811061217057fe5b1a60f81b83858151811061218057fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508781602081106121bb57fe5b1a60f81b8285815181106121cb57fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508380600101945050808060010191505061215a565b5081819950995050505050505050509250929050565b60006001600d600001805490501161223c57600080fd5b600d60000160018154811061224d57fe5b906000526020600020015490509056fea265627a7a72315820212bd588df077e96181e57da836af8261b32fa49eb4e92cdef53377ec7f2e3d464736f6c63430005110032"

StoreMapContract = web3.eth.contract(abi);
web3.eth.estimateGas({data: bytecode})
StoreMap = StoreMapContract.new({
    from: web3.eth.accounts[0],
    data: bytecode,
    gas: '3000000',
    position: POSITION,
    txtime:277001
  },function (e, contract){
    console.log(e, contract);
    if(!e){
        if(!contract.address) {
            console.log("Contract transaction send: TransactionHash: " + contract.transactionHash + " waiting to be mined...");
        } else {
            console.log("Contract mined! Address: " + contract.address);
            console.log(contract);
        }
    }
});

// StoreTraffic 相关

abi = JSON.parse("[{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"passengerGeohash\",\"type\":\"bytes32\"}],\"name\":\"Beginevent\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"passengerGeohash\",\"type\":\"bytes32\"}],\"name\":\"Myevent\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"passengerGeohash\",\"type\":\"bytes32\"}],\"name\":\"Send_Confirm_event\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"}],\"name\":\"boardEvent\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"}],\"name\":\"payEvent\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"}],\"name\":\"rejectEvent\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"}],\"name\":\"routeEvent\",\"type\":\"event\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"passengerGeohash\",\"type\":\"bytes32\"}],\"name\":\"Send_Confirm\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"passengerGeohash\",\"type\":\"bytes32\"}],\"name\":\"Start_Begin\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"newPrecision\",\"type\":\"uint256\"}],\"name\":\"changePrecision\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"}],\"name\":\"confirmBoard\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"}],\"name\":\"confirmPay\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"}],\"name\":\"deleteVehicle\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"string\",\"name\":\"geohash\",\"type\":\"string\"}],\"name\":\"getLatBlock\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"string\",\"name\":\"geohash\",\"type\":\"string\"}],\"name\":\"getLonBlock\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"}],\"name\":\"getPassengerEnd\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"end\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"}],\"name\":\"getPassengerPos\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"position\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"}],\"name\":\"getRoutes\",\"outputs\":[{\"internalType\":\"bytes32[]\",\"name\":\"route\",\"type\":\"bytes32[]\"},{\"internalType\":\"uint256\",\"name\":\"cost\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"passengerGeohash\",\"type\":\"bytes32\"}],\"name\":\"getVehicle\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"passengerGeohash\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32[]\",\"name\":\"regionVehicles\",\"type\":\"bytes32[]\"}],\"name\":\"getVehicleByRegion\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"}],\"name\":\"getVehicleStatus\",\"outputs\":[{\"internalType\":\"int32\",\"name\":\"\",\"type\":\"int32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"geohash\",\"type\":\"bytes32\"}],\"name\":\"initPassenger\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"geohash\",\"type\":\"bytes32\"}],\"name\":\"initVehicle\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"nextGeohash\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"endGeohash\",\"type\":\"bytes32\"}],\"name\":\"manhattan\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"startGeohash\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"endGeohash\",\"type\":\"bytes32\"}],\"name\":\"setPassengerDemand\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"passengerGeohash\",\"type\":\"bytes32\"}],\"name\":\"setPassengerPosition\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"}],\"name\":\"setRejectVehicleStatus\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"vehicleGeohash\",\"type\":\"bytes32\"}],\"name\":\"setVehicle\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"passengerGeohash\",\"type\":\"bytes32\"}],\"name\":\"setVehicleStatus\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"}],\"name\":\"setVehicleStatusEmpty\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"geohash1\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"geohash2\",\"type\":\"bytes32\"}],\"name\":\"sliceGeoHash\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"cost\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32[]\",\"name\":\"route\",\"type\":\"bytes32[]\"}],\"name\":\"storeRoutes\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]")
bytecode = "0x60806040526000600355600060065560086007556040518060a00160405280601060ff168152602001600860ff168152602001600460ff168152602001600260ff168152602001600160ff16815250600890600562000060929190620000c3565b506040518060400160405280602081526020017f30313233343536373839626364656667686a6b6d6e707172737475767778797a81525060099080519060200190620000ae9291906200011a565b50348015620000bc57600080fd5b50620001c9565b82805482825590600052602060002090810192821562000107579160200282015b8281111562000106578251829060ff16905591602001919060010190620000e4565b5b509050620001169190620001a1565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200015d57805160ff19168380011785556200018e565b828001600101855582156200018e579182015b828111156200018d57825182559160200191906001019062000170565b5b5090506200019d9190620001a1565b5090565b620001c691905b80821115620001c2576000816000905550600101620001a8565b5090565b90565b61189d80620001d96000396000f3fe608060405234801561001057600080fd5b50600436106101735760003560e01c80635265da35116100de578063b6727ec011610097578063cf23e7a611610071578063cf23e7a614610912578063d35a1d0d1461094a578063e464bbd51461098c578063fdcd80aa146109ce57610173565b8063b6727ec014610860578063bf5b1f9b146108a2578063c7e63d02146108e457610173565b80635265da351461064b57806353f065fd1461068357806356f90ed4146106cf57806368ba6df91461071757806388681108146107e6578063964c10a11461082857610173565b80633d2e10b4116101305780633d2e10b4146103b55780633f81eee41461048b57806344cf2cd7146104cd5780634a620efc1461059c5780634ce00aa9146105d4578063501df3f11461060257610173565b8063075b8b1d146101785780630838907114610202578063118129f414610230578063135d15cd14610272578063184968ea146102a05780632e708dcd1461037d575b600080fd5b6101a46004803603602081101561018e57600080fd5b8101908080359060200190929190505050610aeb565b6040518080602001838152602001828103825284818151815260200191508051906020019060200280838360005b838110156101ed5780820151818401526020810190506101d2565b50505050905001935050505060405180910390f35b61022e6004803603602081101561021857600080fd5b8101908080359060200190929190505050610b72565b005b61025c6004803603602081101561024657600080fd5b8101908080359060200190929190505050610bb0565b6040518082815260200191505060405180910390f35b61029e6004803603602081101561028857600080fd5b8101908080359060200190929190505050610bd0565b005b610360600480360360408110156102b657600080fd5b8101908080359060200190929190803590602001906401000000008111156102dd57600080fd5b8201836020820111156102ef57600080fd5b8035906020019184602083028401116401000000008311171561031157600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f820116905080830192505050505050509192919290505050610c0a565b604051808381526020018281526020019250505060405180910390f35b6103b36004803603604081101561039357600080fd5b810190808035906020019092919080359060200190929190505050610cf5565b005b610489600480360360808110156103cb57600080fd5b810190808035906020019092919080359060200190929190803590602001909291908035906020019064010000000081111561040657600080fd5b82018360208201111561041857600080fd5b8035906020019184602083028401116401000000008311171561043a57600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f820116905080830192505050505050509192919290505050610d14565b005b6104b7600480360360208110156104a157600080fd5b8101908080359060200190929190505050610d95565b6040518082815260200191505060405180910390f35b610586600480360360208110156104e357600080fd5b810190808035906020019064010000000081111561050057600080fd5b82018360208201111561051257600080fd5b8035906020019184600183028401116401000000008311171561053457600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610dd1565b6040518082815260200191505060405180910390f35b6105d2600480360360408110156105b257600080fd5b810190808035906020019092919080359060200190929190505050610f66565b005b610600600480360360208110156105ea57600080fd5b8101908080359060200190929190505050610fe2565b005b61062e6004803603602081101561061857600080fd5b810190808035906020019092919050505061103e565b604051808381526020018281526020019250505060405180910390f35b6106816004803603604081101561066157600080fd5b810190808035906020019092919080359060200190929190505050611128565b005b6106b96004803603604081101561069957600080fd5b810190808035906020019092919080359060200190929190505050611189565b6040518082815260200191505060405180910390f35b6106fb600480360360208110156106e557600080fd5b810190808035906020019092919050505061122c565b604051808260030b60030b815260200191505060405180910390f35b6107d06004803603602081101561072d57600080fd5b810190808035906020019064010000000081111561074a57600080fd5b82018360208201111561075c57600080fd5b8035906020019184600183028401116401000000008311171561077e57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050611251565b6040518082815260200191505060405180910390f35b610826600480360360608110156107fc57600080fd5b810190808035906020019092919080359060200190929190803590602001909291905050506113e7565b005b61085e6004803603604081101561083e57600080fd5b810190808035906020019092919080359060200190929190505050611433565b005b6108a06004803603606081101561087657600080fd5b81019080803590602001909291908035906020019092919080359060200190929190505050611452565b005b6108e2600480360360608110156108b857600080fd5b8101908080359060200190929190803590602001909291908035906020019092919050505061149e565b005b610910600480360360208110156108fa57600080fd5b81019080803590602001909291905050506114d9565b005b6109486004803603604081101561092857600080fd5b810190808035906020019092919080359060200190929190505050611513565b005b6109766004803603602081101561096057600080fd5b810190808035906020019092919050505061156a565b6040518082815260200191505060405180910390f35b6109cc600480360360608110156109a257600080fd5b8101908080359060200190929190803590602001909291908035906020019092919050505061157d565b005b610a04600480360360408110156109e457600080fd5b810190808035906020019092919080359060200190929190505050611604565b604051808060200180602001838103835285818151815260200191508051906020019080838360005b83811015610a48578082015181840152602081019050610a2d565b50505050905090810190601f168015610a755780820380516001836020036101000a031916815260200191505b50838103825284818151815260200191508051906020019080838360005b83811015610aae578082015181840152602081019050610a93565b50505050905090810190601f168015610adb5780820380516001836020036101000a031916815260200191505b5094505050505060405180910390f35b60606000806000848152602001908152602001600020600001805480602002602001604051908101604052809291908181526020018280548015610b4e57602002820191906000526020600020905b815481526020019060010190808311610b3a575b50505050509150600080848152602001908152602001600020600101549050915091565b60018060008381526020019081526020016000206002015414610b9157fe5b6000600160008381526020019081526020016000206002018190555050565b600060046000838152602001908152602001600020600101549050919050565b7f3df08102c43128689c0922a6d6509c65890fb8abdefbb11892e7b3a76c681880816040518082815260200191505060405180910390a150565b60008060008060008090505b8551811015610cd257610c298784611189565b610c5c88600160008a8681518110610c3d57fe5b6020026020010151815260200190815260200160002060010154611189565b1015610cc557600060016000888481518110610c7457fe5b60200260200101518152602001908152602001600020600201541415610cc45760016000878381518110610ca457fe5b602002602001015181526020019081526020016000206001015492508091505b5b8080600101915050610c16565b5081858281518110610ce057fe5b60200260200101519350935050509250929050565b8060016000848152602001908152602001600020600101819055505050565b806000808581526020019081526020016000206000019080519060200190610d3d9291906117f6565b5083600080858152602001908152602001600020600101819055507f9d5989c6dfe7087cf87bc915a07bc23b94c2bbcabdcc61e78249ee5e678fcac8826040518082815260200191505060405180910390a150505050565b60006004600083815260200190815260200160002060030154905060016004600084815260200190815260200160002060040181905550919050565b60008060019050600080905060008090505b8451811015610f5b576000858281518110610dfa57fe5b602001015160f81c60f81b9050600080600090505b6009805460018160011615610100020316600290049050811015610ef057827effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916600982815460018160011615610100020316600290048110610e6e57fe5b815460011615610e8d5790600052602060002090602091828204019190065b9054901a7f0100000000000000000000000000000000000000000000000000000000000000027effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161415610ee357809150610ef0565b8080600101915050610e0f565b5060008090505b6005811015610f4b57600060088281548110610f0f57fe5b9060005260206000200154905086610f3957600286029550600081841614610f38576001860195505b5b86159650508080600101915050610ef7565b5050508080600101915050610de3565b508092505050919050565b8160016000848152602001908152602001600020600001819055508060016000848152602001908152602001600020600101819055506000600160008481526020019081526020016000206002018190555081600260006003548152602001908152602001600020819055506001600354016003819055505050565b600160008281526020019081526020016000206000015481141561103b57600160008281526020019081526020016000206000808201600090556001820160009055600282016000905550506001600354036003819055505b50565b60008060008060008090505b6003548110156111075761105e8684611189565b61109187600160006002600087815260200190815260200160002054815260200190815260200160002060010154611189565b10156110fa57600060016000600260008581526020019081526020016000205481526020019081526020016000206002015414156110f95760016000600260008481526020019081526020016000205481526020019081526020016000206001015492508091505b5b808060010191505061104a565b50816002600083815260200190815260200160002054935093505050915091565b8060046000848152602001908152602001600020600101819055506000600460008481526020019081526020016000206004018190555081600560006006548152602001908152602001600020819055506001600654016006819055505050565b60008183141561119c5760009050611226565b6060806111a98585611604565b809250819350505060006111bc83611251565b905060006111c983611251565b905060006111d685610dd1565b905060006111e385610dd1565b9050600080858511156111fa578585039150611200565b84860391505b83831115611212578383039050611218565b82840390505b808201985050505050505050505b92915050565b6000806001600084815260200190815260200160002060020154905080915050919050565b60008060019050600080905060008090505b84518110156113dc57600085828151811061127a57fe5b602001015160f81c60f81b9050600080600090505b600980546001816001161561010002031660029004905081101561137057827effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166009828154600181600116156101000203166002900481106112ee57fe5b81546001161561130d5790600052602060002090602091828204019190065b9054901a7f0100000000000000000000000000000000000000000000000000000000000000027effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916141561136357809150611370565b808060010191505061128f565b5060008090505b60058110156113cc5760006008828154811061138f57fe5b9060005260206000200154905086156113ba576002860295506000818416146113b9576001860195505b5b86159650508080600101915050611377565b5050508080600101915050611263565b508092505050919050565b7f5ab43c2e2fd2004a922e8b2f60ea62d11515f0edabc4ecd2ba00be665ee11ec983838360405180848152602001838152602001828152602001935050505060405180910390a1505050565b8060046000848152602001908152602001600020600101819055505050565b7f379c1a3b6d0ff67548ead9112f82e0b8e7778a342e5fc094e64694ae1a33cb9e83838360405180848152602001838152602001828152602001935050505060405180910390a1505050565b816004600085815260200190815260200160002060020181905550806004600085815260200190815260200160002060030181905550505050565b7f2df740085e71317ac451dce57ca685ff2946f6b1be05b2add35114a5e1e63126816040518082815260200191505060405180910390a150565b600060016000848152602001908152602001600020600201819055507fd80dcda4b9270200beb859c5af63a5992ab12a6a531137d47b3804e62ef81db7816040518082815260200191505060405180910390a15050565b6000816007819055506007549050919050565b600060016000858152602001908152602001600020600201541461159d57fe5b7fa495e9fee02ccf4d2800ca5b3ddfce556daf13b6f9b479eebbc64019ca11042c83838360405180848152602001838152602001828152602001935050505060405180910390a1600180600085815260200190815260200160002060020181905550505050565b606080600084905060008490506000602060ff16905060008060009050600091505b828210156116a95783826020811061163a57fe5b1a60f81b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191685836020811061166c57fe5b1a60f81b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161461169c576116a9565b8180600101925050611626565b8160075403905060008090506060826040519080825280601f01601f1916602001820160405280156116ea5781602001600182028038833980820191505090505b5090506060836040519080825280601f01601f1916602001820160405280156117225781602001600182028038833980820191505090505b50905060008590505b6007548110156117e05788816020811061174157fe5b1a60f81b83858151811061175157fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535087816020811061178c57fe5b1a60f81b82858151811061179c57fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508380600101945050808060010191505061172b565b5081819950995050505050505050509250929050565b828054828255906000526020600020908101928215611832579160200282015b82811115611831578251825591602001919060010190611816565b5b50905061183f9190611843565b5090565b61186591905b80821115611861576000816000905550600101611849565b5090565b9056fea265627a7a72315820f2a3b4c8252b2e61a56e7f27b361878f775852abd963ac10a31ac1e6701ddce364736f6c63430005110032"

trafficContract = web3.eth.contract(abi);
web3.eth.estimateGas({data: bytecode})
traffic = trafficContract.new({
    from: web3.eth.accounts[0],
    data: bytecode,
    gas: '4000000',
    position: POSITION,
    txtime:277001
  },function (e, contract){
    console.log(e, contract);
    if(!e){
        if(!contract.address) {
            console.log("Contract transaction send: TransactionHash: " + contract.transactionHash + " waiting to be mined...");
        } else {
            console.log("Contract mined! Address: " + contract.address);
            console.log(contract);
        }
    }
});

// Transf 相关

abi = JSON.parse("[{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"last_hash\",\"type\":\"bytes32\"}],\"name\":\"IN_Event1\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"last_hash\",\"type\":\"bytes32\"}],\"name\":\"IN_Event3\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"last_hash\",\"type\":\"bytes32\"}],\"name\":\"OUT_Event2\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"last_hash\",\"type\":\"bytes32\"}],\"name\":\"OUT_Event4\",\"type\":\"event\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"last_hash\",\"type\":\"bytes32\"}],\"name\":\"IN_transf1\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"last_hash\",\"type\":\"bytes32\"}],\"name\":\"IN_transf3\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"last_hash\",\"type\":\"bytes32\"}],\"name\":\"OUT_transf2\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"vehicleId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"passengerId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"last_hash\",\"type\":\"bytes32\"}],\"name\":\"OUT_transf4\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]")
bytecode = "0x608060405234801561001057600080fd5b506102be806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c80633bdf7af8146100515780637e6e10d414610093578063c353cdcd146100d5578063da9e960314610117575b600080fd5b6100916004803603606081101561006757600080fd5b81019080803590602001909291908035906020019092919080359060200190929190505050610159565b005b6100d3600480360360608110156100a957600080fd5b810190808035906020019092919080359060200190929190803590602001909291905050506101a5565b005b610115600480360360608110156100eb57600080fd5b810190808035906020019092919080359060200190929190803590602001909291905050506101f1565b005b6101576004803603606081101561012d57600080fd5b8101908080359060200190929190803590602001909291908035906020019092919050505061023d565b005b7f7ff19003090ee3bc28e69085e705555c5433fe1802803e77d6e9ce23d8ea7b4483838360405180848152602001838152602001828152602001935050505060405180910390a1505050565b7fe097b7b4919c2d6f8219a28333b868b8afa303cdf544e208bb57b76e6a0551e783838360405180848152602001838152602001828152602001935050505060405180910390a1505050565b7f50a7c8a4ab6f9e5e36c832eefd0fd7d70e3c489ce82414072faceb1fd622bea783838360405180848152602001838152602001828152602001935050505060405180910390a1505050565b7f3f51e97c4ca639bb39da4b8ababb25e1a841a3cbd4c49511f1ecff88253eaac583838360405180848152602001838152602001828152602001935050505060405180910390a150505056fea265627a7a7231582050b93c7090ae6c0f334a21b9dfb8d51c7a32aa03e66d97e7a1d5745a9153f2df64736f6c63430005110032"

transfContract = web3.eth.contract(abi);
web3.eth.estimateGas({data: bytecode})
transf = transfContract.new({
    from: web3.eth.accounts[0],
    data: bytecode,
    gas: '5000000',
    position: POSITION,
    txtime:277001
  },function (e, contract){
    console.log(e, contract);
    if(!e){
        if(!contract.address) {
            console.log("Contract transaction send: TransactionHash: " + contract.transactionHash + " waiting to be mined...");
        } else {
            console.log("Contract mined! Address: " + contract.address);
            console.log(contract);
        }
    }
});

miner.start(1); admin.sleepBlocks(4); miner.stop()
